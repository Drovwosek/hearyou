# üîç –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Speaker Labeling –≤ Yandex SpeechKit

## –ü—Ä–æ–±–ª–µ–º–∞
Parameter `speakerLabeling: true` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ API, –Ω–æ Yandex –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `speakerTag` –≤ –æ—Ç–≤–µ—Ç–µ.

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏

### ‚úÖ –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü–∞—Ä–∞–º–µ—Ç—Ä `speakerLabeling: true` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ config
- Backend —Ñ—É–Ω–∫—Ü–∏—è `format_with_speakers()` –≥–æ—Ç–æ–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- UI –≥–æ—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–∏–∞–ª–æ–≥

### ‚ùå Yandex –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç speakerTag
**–¢–µ—Å—Ç—ã:**
- –§–∞–π–ª 1: test_audio.mp3 (115 KB, 1 –≥–æ–ª–æ—Å) - –Ω–µ—Ç speakerTag
- –§–∞–π–ª 2: 6_—Ñ–µ–≤—Ä_14_19.mp3 (30 MB, 191 chunks) - –Ω–µ—Ç speakerTag

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "words": [
    {
      "startTime": "0.060s",
      "endTime": "0.500s",
      "word": "—Ç–µ–∫—Å—Ç",
      "confidence": 1
      // ‚ùå speakerTag –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!
    }
  ]
}
```

## üéØ –ì–∏–ø–æ—Ç–µ–∑–∞: API –≤–µ—Ä—Å–∏—è

### –¢–µ–∫—É—â–∏–π API: v2
```
URL: https://transcribe.api.cloud.yandex.net/speech/stt/v2/longRunningRecognize
```

### –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: API v3
```
URL: https://transcribe.api.cloud.yandex.net/speech/stt/v3/recognizeStreaming
```

**Speaker labeling –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ v3!**

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Yandex

### API v2 (longRunningRecognize)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
- –§–∞–π–ª—ã –¥–æ 1 –ì–ë
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: model, language, profanityFilter, hints, etc.
- ‚ùì speakerLabeling –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è?

### API v3 (recognizeStreaming) 
- –ü–æ—Ç–æ–∫–æ–≤–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
- –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è API
- ‚úÖ –£–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è speaker diarization –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –¢—Ä–µ–±—É–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ (gRPC –∏–ª–∏ streaming)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å v3 API
1. –ò–∑–º–µ–Ω–∏—Ç—å URL –Ω–∞ v3
2. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å speaker labeling

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- https://cloud.yandex.ru/docs/speechkit/stt/api/transcribation-api-v3
- https://cloud.yandex.ru/docs/speechkit/stt-v3/api-ref/AsyncRecognizer/

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ Yandex –¥–æ–±–∞–≤–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ v2
- –ò–ª–∏ –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–∫–ª—é—á–∏–º—Å—è –Ω–∞ v3

## –í—ã–≤–æ–¥—ã

**–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ:** Speaker labeling –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ API v3, –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
1. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å feature –∫–∞–∫ "–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
2. –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—Ä–µ–º—è - –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ v3 API
3. –ò–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –ø–æ–∫–∞ Yandex –¥–æ–±–∞–≤–∏—Ç –≤ v2

